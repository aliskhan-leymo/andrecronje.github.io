<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Cryptocurrency Code Review: Wanchain</title><meta name="description" content="Disclaimer: These reviews are done as is from what is on display in the master branch of the repo’s made available. This review is not a…"><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Cryptocurrency Code Review: Wanchain</h1>
</header>
<section data-field="subtitle" class="p-summary">
Disclaimer: These reviews are done as is from what is on display in the master branch of the repo’s made available. This review is not a…
</section>
<section data-field="body" class="e-content">
<section name="3052" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="5c46" id="5c46" class="graf graf--h3 graf--leading graf--title">Cryptocurrency Code Review: Wanchain</h3><p name="2c51" id="2c51" class="graf graf--p graf-after--h3"><strong class="markup--strong markup--p-strong">Disclaimer</strong>: These reviews are done as is from what is on display in the master branch of the repo’s made available. This review is not a comment on the overall project, scope, or success thereof. This was done as an educational review by me and any comments in the article are simply my opinion. It should not be used as any comment or advice on the project as a whole.</p><p name="5a19" id="5a19" class="graf graf--p graf-after--p">EDIT 26/03/2018 User @ckscrypto was kind enough to ask Wanchain for feedback on the below, they commented that Wanchain 2.0/3.0 code is not publicly available and won’t be made public until such time as Wanchain is comfortable. So the below is only a portrayal of the code provided publicly, and not the current active development</p><p name="2c40" id="2c40" class="graf graf--p graf-after--p">** Original article follows</p><p name="743b" id="743b" class="graf graf--p graf-after--p">Probably the most anticipated ICO of end 2017. Everything is waiting in anticipation for this beast to come online and in full swing. Boasting a team of 15 core developers, I honestly can’t contain my excitement at what I’m about to learn as I dissect their code.</p><p name="0039" id="0039" class="graf graf--p graf-after--p">So let’s jump right in. <a href="https://github.com/wanchain/go-wanchain" data-href="https://github.com/wanchain/go-wanchain" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">https://github.com/wanchain/go-wanchain</a></p><figure name="afa0" id="afa0" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 870px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 124.30000000000001%;"></div><img class="graf-image" data-image-id="1*6sBcgentPWW7w2cedU5whQ.png" data-width="750" data-height="932" src="https://cdn-images-1.medium.com/max/800/1*6sBcgentPWW7w2cedU5whQ.png"></div></figure><p name="5644" id="5644" class="graf graf--p graf-after--figure">We start with an absolutely massive repository. Although don’t be scared, Wanchain afterall is a fork of go-ethereum, so this is to be expected. The thing I’m most excited to see is how they implemented PoS in Ethereum, so let’s run right over to the consensus package and get our hands dirty.</p><figure name="6273" id="6273" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 589px; max-height: 165px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 28.000000000000004%;"></div><img class="graf-image" data-image-id="1*7-u27TKTkZMRWE5UcjydfQ.png" data-width="589" data-height="165" src="https://cdn-images-1.medium.com/max/800/1*7-u27TKTkZMRWE5UcjydfQ.png"></div></figure><p name="d269" id="d269" class="graf graf--p graf-after--figure">Oh, well, ok, so no PoS yet. But wait, Wanchain mainnet is already live? What is it running if it isn’t running PoS? Let’s get digging. So given the sheer size of the repo thanks to Ethereum, it would take us a very long time searching through each and every line of code, so instead we head over to the commits, let’s see what changes have the team made since inception.</p><figure name="c588" id="c588" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 360px; max-height: 102px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 28.299999999999997%;"></div><img class="graf-image" data-image-id="1*LRlPozvALUx_cKp8yStnIQ.png" data-width="360" data-height="102" src="https://cdn-images-1.medium.com/max/800/1*LRlPozvALUx_cKp8yStnIQ.png"></div></figure><figure name="bcba" id="bcba" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 220px; max-height: 70px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 31.8%;"></div><img class="graf-image" data-image-id="1*y4nu_Y2UFNY0Dkd-wCLaCw.png" data-width="220" data-height="70" src="https://cdn-images-1.medium.com/max/800/1*y4nu_Y2UFNY0Dkd-wCLaCw.png"></div></figure><p name="7ab2" id="7ab2" class="graf graf--p graf-after--figure">776 commits since the inception of the initial commit on 14 May 2017. That’s 10 months worth of work. What wonderful things won’t we be able to learn from here.</p><p name="73c1" id="73c1" class="graf graf--p graf-after--p">Initial commit, just go-ethereum, let’s move on.</p><figure name="f5dd" id="f5dd" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 368px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 52.6%;"></div><img class="graf-image" data-image-id="1*cQ9-fkdTYULcOnrpOYRoXQ.png" data-width="1229" data-height="646" src="https://cdn-images-1.medium.com/max/800/1*cQ9-fkdTYULcOnrpOYRoXQ.png"></div></figure><p name="5e6c" id="5e6c" class="graf graf--p graf-after--figure">Commit #2 already looks excited, we see we add a new transaction type variable to all transactions</p><figure name="5a58" id="5a58" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 72px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 10.299999999999999%;"></div><img class="graf-image" data-image-id="1*_bFMqUGVCxaWlrQZRQKErA.png" data-width="1218" data-height="125" src="https://cdn-images-1.medium.com/max/800/1*_bFMqUGVCxaWlrQZRQKErA.png"></div></figure><p name="a546" id="a546" class="graf graf--p graf-after--figure">The new OTA transactions are added, OTA is the One Time Account mechanism of Wanchain, this is the mechanism that allows for private transactions.</p><p name="e539" id="e539" class="graf graf--p graf-after--p">Rest of the commit is mostly just methods being duplicated and some name changes to accommodate for the OTA transactions, for example duplicating SendTransaction and changing it to SendOTATransaction, I will be omitting these kinds of changes since it’s just grunt work and not really adding anything new to the system. But so far an ambitious start, we already start seeing the bare bones of the private transaction system.</p><p name="e567" id="e567" class="graf graf--p graf-after--p">Rest of may is just more boiler plate changes, some docker updates, nothing interesting. Nothing in June, and July starts the same. Mostly setup changes to compile and accommodate for new Wanchain directories instead of ethereum directories.</p><p name="799d" id="799d" class="graf graf--p graf-after--p">Around mid July we see some exciting changes to crypto.go, let’s have a look;</p><figure name="2422" id="2422" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 374px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 53.5%;"></div><img class="graf-image" data-image-id="1*04saeddxYHHdvRG_mXXUFg.png" data-width="1253" data-height="670" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*04saeddxYHHdvRG_mXXUFg.png"></div></figure><p name="115a" id="115a" class="graf graf--p graf-after--figure">Sadly, nothing interesting, just some bug fixes for the previous OTA implementation. Rest of July, new build files, some name changes from ETH to WAN in documentation files and startup scripts.</p><p name="28dd" id="28dd" class="graf graf--p graf-after--p">In August we undo some of our original commit changes, every developer has seen this before, you go through code and wonder “why the hell did someone do this, there is a much better way” only to a few days later be back exactly there with the realization “Ooooh, that’s why they did it this way, let me revert”</p><figure name="22d8" id="22d8" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 444px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 63.4%;"></div><img class="graf-image" data-image-id="1*NQewOzUAinjBoR4OBuzFOQ.png" data-width="1266" data-height="803" src="https://cdn-images-1.medium.com/max/800/1*NQewOzUAinjBoR4OBuzFOQ.png"></div></figure><p name="d598" id="d598" class="graf graf--p graf-after--figure">Finally, middle August we see genesis starting to happen. This is the process of actually beginning a mainnet, the genesis file in Ethereum is where everything starts</p><figure name="e170" id="e170" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 406px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 57.99999999999999%;"></div><img class="graf-image" data-image-id="1*QOoeCx5WfMw4EEIdKEidYg.png" data-width="1271" data-height="737" src="https://cdn-images-1.medium.com/max/800/1*QOoeCx5WfMw4EEIdKEidYg.png"></div></figure><p name="7a1d" id="7a1d" class="graf graf--p graf-after--figure">No genesis yet, but let’s continue.</p><figure name="fcdc" id="fcdc" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 652px; max-height: 936px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 143.6%;"></div><img class="graf-image" data-image-id="1*eyyL0vPAWa4bZQqRhpgPjQ.png" data-width="652" data-height="936" src="https://cdn-images-1.medium.com/max/800/1*eyyL0vPAWa4bZQqRhpgPjQ.png"></div></figure><p name="3a39" id="3a39" class="graf graf--p graf-after--figure">New updates, interesting though, this shows that they are looking at PoA, Proof of Authority. It’s a mechanism designed for Ethereum’s Rinkeby testnet. It is essentially a private mining network for a public ledger. It’s meant for centralization and control. Interesting start.</p><p name="21f1" id="21f1" class="graf graf--p graf-after--p">Rest of August just test updates, nothing interesting. 10 September we see a massive codebase change, let’s have a look</p><figure name="0d43" id="0d43" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 458px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 65.5%;"></div><img class="graf-image" data-image-id="1*djOaeo1TnOOTSk4qYyg5SQ.png" data-width="1269" data-height="831" src="https://cdn-images-1.medium.com/max/800/1*djOaeo1TnOOTSk4qYyg5SQ.png"></div></figure><p name="70bf" id="70bf" class="graf graf--p graf-after--figure">Oh, we are just renaming all instances of Ethereum to Wanchain. Ok, that’s cool I guess, let’s move on.</p><p name="0902" id="0902" class="graf graf--p graf-after--p">11 September we see Pluto being added! Is this the start of PoS?</p><figure name="4f77" id="4f77" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 505px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 72.1%;"></div><img class="graf-image" data-image-id="1*ArHuT_5pXcmp25Xk_1FBZw.png" data-width="1273" data-height="918" src="https://cdn-images-1.medium.com/max/800/1*ArHuT_5pXcmp25Xk_1FBZw.png"></div></figure><p name="f645" id="f645" class="graf graf--p graf-after--figure">No, Pluto is just a copy of Rinkeby and Clique, we are just busy renaming Rinkeby and Clique to Pluto. So at this point looks like Wanchain is going to go with Pluto, which is just PoA.</p><p name="2f61" id="2f61" class="graf graf--p graf-after--p">Rest of September just more Pluto updates, some OTA fixes, adding OTA stamps. Nothing really exciting at this point.</p><p name="92ea" id="92ea" class="graf graf--p graf-after--p">September and October see a lot of OTA updates, it’s a pretty smart mechanism actually, so your private key is used to generate a OTA account private/public key, you then send the funds to this which sort of deposits it back in the original smart contract. From the receiving account you can then generate a refund from the smart contract which will use a new OTA account for you to grab your funds from. It’s a smart way to implement privacy, but kind of boring, so I’m not going to go into it’s details all that much.</p><p name="e848" id="e848" class="graf graf--p graf-after--p">November, December, and January just sees a lot of test case updates and prep for mainnet launch.</p><p name="df40" id="df40" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Conclusion:</strong> And that’s all we have folks. So sorry, nothing exciting here. Essentially we just have go-ethereum where everything was renamed to Wanchain and Wancoin respectively, running in PoA (renamed to Pluto) with OTA transactions.</p><p name="c5be" id="c5be" class="graf graf--p graf-after--p graf--trailing">Wish I had more to show you guys. For 10 months of work. I don’t know how I feel about that. Hopefully we will see something exciting on the next review!</p></div></div></section>
</section>
<footer><p class="p-tags">Tagged in <a href="https://medium.com/tag/ethereum" class="p-tag">Ethereum</a>, <a href="https://medium.com/tag/wanchain" class="p-tag">Wanchain</a>, <a href="https://medium.com/tag/blockchain" class="p-tag">Blockchain</a>, <a href="https://medium.com/tag/crypto" class="p-tag">Crypto</a>, <a href="https://medium.com/tag/cryptocurrency" class="p-tag">Cryptocurrency</a></p><p>By <a href="https://medium.com/@suchi.blackwing" class="p-author h-card">Andre Cronje</a> on <a href="https://medium.com/p/9b71ea2de693"><time class="dt-published" datetime="2018-02-24T08:40:25.773Z">February 24, 2018</time></a>.</p><p><a href="https://medium.com/@suchi.blackwing/code-review-series-wanchain-9b71ea2de693" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on May 2, 2018.</p></footer></article>

</body></html>