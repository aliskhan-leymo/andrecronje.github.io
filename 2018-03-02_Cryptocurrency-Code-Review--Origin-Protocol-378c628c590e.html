<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Cryptocurrency Code Review: Origin Protocol</title><meta name="description" content="Disclaimer: These reviews are done as is from what is on display in the master branch of the repo’s made available. This review is not a…"><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Cryptocurrency Code Review: Origin Protocol</h1>
</header>
<section data-field="subtitle" class="p-summary">
Disclaimer: These reviews are done as is from what is on display in the master branch of the repo’s made available. This review is not a…
</section>
<section data-field="body" class="e-content">
<section name="8297" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="0ed5" id="0ed5" class="graf graf--h3 graf--leading graf--title">Cryptocurrency Code Review: Origin Protocol</h3><p name="1b04" id="1b04" class="graf graf--p graf-after--h3"><strong class="markup--strong markup--p-strong">Disclaimer</strong>: These reviews are done as is from what is on display in the master branch of the repo’s made available. This review is not a comment on the overall project, scope, or success thereof. This was done as an educational review by me and any comments in the article are simply my opinion. It should not be used as any comment or advice on the project as a whole.</p><p name="bdd2" id="bdd2" class="graf graf--p graf-after--p">What is Origin Protocol?</p><p name="6e8f" id="6e8f" class="graf graf--p graf--startsWithDoubleQuote graf-after--p">“Origin is a sharing economy marketplace that enables buyers and sellers of fractional use goods and services (car-sharing, service-based tasks, home-sharing, etc.) to transact on the distributed, open web. Using the Ethereum blockchain and Interplanetary File System (IPFS), the platform and community are decentralized, allowing for the creation and booking of services and goods without traditional intermediaries.”</p><p name="0a88" id="0a88" class="graf graf--p graf-after--p">Right now they have two repo’s that are interesting, whe have platform and we have demo-dapp</p><figure name="809c" id="809c" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 684px; max-height: 279px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 40.8%;"></div><img class="graf-image" data-image-id="1*c_pB8Qdeotmpbk7KaLKx7Q.png" data-width="684" data-height="279" src="https://cdn-images-1.medium.com/max/800/1*c_pB8Qdeotmpbk7KaLKx7Q.png"></div></figure><p name="21fb" id="21fb" class="graf graf--p graf-after--figure">What they are trying to accomplish is key, why are Google, AWS, and Azure so successful as a development environment? Because they make it easy, serverless infrastructure is fantastic, devOps has never been simpler. Developers nowadays (sadly) don’t want to understand how the underlying mechanisms work, they just want to drop their code somewhere and it should work. So solutions like these are incredibly important for the future of Blockchain adoption. They might be a bit limited in scope (creation and booking of services and goods) but this already allows them to be a decentralized competitor to the likes of Amazon or listing services like Graigslist and whatever else is out there.</p><p name="e259" id="e259" class="graf graf--p graf-after--p">Let’s start with platform</p><figure name="daf5" id="daf5" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 165px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 23.599999999999998%;"></div><img class="graf-image" data-image-id="1*DRQOb4V1z2X47YBzS0X9fw.png" data-width="946" data-height="223" src="https://cdn-images-1.medium.com/max/800/1*DRQOb4V1z2X47YBzS0X9fw.png"></div></figure><p name="f0ec" id="f0ec" class="graf graf--p graf-after--figure">Not a very active repo, only 14 commits, one commit caught my eye;</p><figure name="3023" id="3023" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 687px; max-height: 237px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 34.5%;"></div><img class="graf-image" data-image-id="1*1QdnwP3S2Sg4_S1EBjAg1A.png" data-width="687" data-height="237" src="https://cdn-images-1.medium.com/max/800/1*1QdnwP3S2Sg4_S1EBjAg1A.png"></div></figure><p name="d652" id="d652" class="graf graf--p graf-after--figure">Adding placeholder directories to mirror RequestNetwork. Not sure what the link here is, warrants some more investigation.</p><p name="005d" id="005d" class="graf graf--p graf-after--p">Origin.js looks to be the primary root file, this will be the API as such that will allow you to CRUD (Create Read Update Delete) listings. First commit is just a skeleton</p><figure name="3cc4" id="3cc4" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 564px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 80.60000000000001%;"></div><img class="graf-image" data-image-id="1*R_VLo741lj1LrOqMrwSq4g.png" data-width="919" data-height="741" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*R_VLo741lj1LrOqMrwSq4g.png"></div></figure><p name="01a5" id="01a5" class="graf graf--p graf-after--figure">Next some more readme updates, nothing interesting, and then we have Listing.sol added to the repo.</p><figure name="90e7" id="90e7" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 646px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 92.2%;"></div><img class="graf-image" data-image-id="1*80Te0BdkWlkQz_Cf9_xMrg.png" data-width="838" data-height="773" src="https://cdn-images-1.medium.com/max/800/1*80Te0BdkWlkQz_Cf9_xMrg.png"></div></figure><p name="db1d" id="db1d" class="graf graf--p graf-after--figure">We start with a few events, UpdateListing, NewListing, and ListingPurchased (interesting no deleteListing). These events will be the core of the API. So what are events in Ethereum? Events are triggers/notifications, so I can subscribe to these events and I would get notified as soon as an event is created, events are also actually a fantastic means of storage since I can use them as immutable logs. And because of their deterministic nature I can always replay them.</p><p name="777f" id="777f" class="graf graf--p graf-after--p">Next we see listingStruct[], this is a bit of a red flag, the problem with this, is that it will grow exponentially, data storage (even cheap storage) in Ethereum is notoriously expensive, hopefully Swarm comes out soon and then we no longer need to store data like this. However, storage is paid for in gas when the item needs to be stored, so each person creating a listing (or updating a listing) will end up paying for it. Now from a financial model this already doesn’t make a lot of sense, sure the person listing should pay (this is the standard model) but now the person buying the listing also has to pay (this is not the standard model), I guess you could argue it shows valid intent to purchase though, but why if I can just go get it on Amazon without paying a purchase fee, I’m already buying the object afterall. The big thing here as well is that something like Amazon ends up being the escrow, so far I don’t see an escrow mechanic, but its early days, so let’s continue.</p><p name="0603" id="0603" class="graf graf--p graf-after--p">listingStruct we see contains the address of the lister, the ipfs hash (for data stored, description, images), price, and unitsAvailable.</p><figure name="77b8" id="77b8" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 503px; max-height: 433px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 86.1%;"></div><img class="graf-image" data-image-id="1*nmdsRaqH-TYl9NwjjW4ffw.png" data-width="503" data-height="433" src="https://cdn-images-1.medium.com/max/800/1*nmdsRaqH-TYl9NwjjW4ffw.png"></div></figure><p name="c361" id="c361" class="graf graf--p graf-after--figure">We have some modifiers, these are just little logic checks for functions, so isOwner checks that you are the owner (of the listing for example), hasValueToPurchase checks that the sender is sending enough coins to actually purchase the listing. Standard boilerplate.</p><p name="eb82" id="eb82" class="graf graf--p graf-after--p">Rest is fairly straight forward implementation of the actual Listing object, buyListing is payable (so you are expected to buy first, this could be dangerous where items should be delivered for example, places like Amazon keep your funds in escrow and only after you have confirmed receipt of your goods are the funds released), I’m not seeing this mechanism yet, but let’s keep looking.</p><figure name="360d" id="360d" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 572px; max-height: 150px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 26.200000000000003%;"></div><img class="graf-image" data-image-id="1*kR971goN1vAX2e2zVycHHg.png" data-width="572" data-height="150" src="https://cdn-images-1.medium.com/max/800/1*kR971goN1vAX2e2zVycHHg.png"></div></figure><p name="27fc" id="27fc" class="graf graf--p graf-after--figure">We see Stan James created most of these files,</p><figure name="78fe" id="78fe" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 128px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 18.3%;"></div><img class="graf-image" data-image-id="1*_r_rsPuVMYbEaM4_QeQttw.png" data-width="829" data-height="152" src="https://cdn-images-1.medium.com/max/800/1*_r_rsPuVMYbEaM4_QeQttw.png"></div></figure><p name="f5ed" id="f5ed" class="graf graf--p graf-after--figure">We also see Stan uses Linux/Mac and stores all his code in Documents, come now Stan, that’s not good coding practices :p</p><figure name="7e14" id="7e14" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 625px; max-height: 863px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 138.1%;"></div><img class="graf-image" data-image-id="1*N18dKGjnAT-GtnwhDdGEJQ.png" data-width="625" data-height="863" src="https://cdn-images-1.medium.com/max/800/1*N18dKGjnAT-GtnwhDdGEJQ.png"></div></figure><p name="ba3b" id="ba3b" class="graf graf--p graf-after--figure">These are all the test listings, currently you can buy Taylor Swift, a Red shoe, or a Lambo. I wonder how Taylor will feel about that?</p><figure name="5198" id="5198" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 590px; max-height: 449px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 76.1%;"></div><img class="graf-image" data-image-id="1*309_rc4rCxcH34vTgqRyMw.png" data-width="590" data-height="449" src="https://cdn-images-1.medium.com/max/800/1*309_rc4rCxcH34vTgqRyMw.png"></div></figure><p name="91f9" id="91f9" class="graf graf--p graf-after--figure">Doing some assumptions here about IPFS structure, this could cause big problems down the line, smart contracts are immutable by nature, so when you redeploy you do a new contract, if IPFS changes their implementation then this can have some nasty complications. This also raises concerns of contract migration, but that’s a topic for another day.</p><p name="8638" id="8638" class="graf graf--p graf-after--p">Pretty standard wrapper code for the transactions,</p><figure name="5c0f" id="5c0f" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 655px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 93.60000000000001%;"></div><img class="graf-image" data-image-id="1*1QOXQXM6UTkKQnQ2DIn6dg.png" data-width="870" data-height="814" src="https://cdn-images-1.medium.com/max/800/1*1QOXQXM6UTkKQnQ2DIn6dg.png"></div></figure><p name="cc45" id="cc45" class="graf graf--p graf-after--figure">They are using call when it’s just access stateless data and they are using transactions when they do statefull changes. This is nice to see.</p><figure name="8be9" id="8be9" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 621px; max-height: 507px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 81.6%;"></div><img class="graf-image" data-image-id="1*lkVf9vVKfbLo1VqtqmqmsQ.png" data-width="621" data-height="507" src="https://cdn-images-1.medium.com/max/800/1*lkVf9vVKfbLo1VqtqmqmsQ.png"></div></figure><p name="174b" id="174b" class="graf graf--p graf-after--figure">Interesting, storing individual IPFS files for each listing. The hash is already part of a merkle, so I guess it’s easy enough to look up. Given no indexed storage, this is a good option.</p><p name="c500" id="c500" class="graf graf--p graf-after--p">And that’s all the commits we have.</p><p name="45f7" id="45f7" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Conclusion</strong>: So, it’s good code, but its very basic code, they are leveraging IPFS for storage, and Ethereum for the actual listing. What happens when we have a gas war about a listing? How are funds held in escrow for the payout to occur?</p><p name="cb97" id="cb97" class="graf graf--p graf-after--p">So as a product they are going to compete with other listing services. Does this need its own token? I don’t really see why. Is this better because its on the blockchain? I don’t really see why.</p><p name="3e90" id="3e90" class="graf graf--p graf-after--p">In all honesty the code so far is a few weeks worth of work (and I’m being generous). I really like the idea, but it just isn’t really special. They could easily have hundreds of competitors within a few days, so it will all depend on who actually adopts them. They mention having the interest of AirBnb, Uber, etc, so that could have value, but will they want to publish services on something that is censorship free? This could just as easily become a marketplace for illegal goods and services and it technically can’t really be controlled. Unless they bring in censorship, and then isn’t the whole point of blockchain defeated? I know that’s why they want to bring in the token, for governance, but doesn’t that just mean I’m buying a token to then do a job for them?</p><p name="85fc" id="85fc" class="graf graf--p graf-after--p graf--trailing">Fun project, but nothing wow.</p></div></div></section>
</section>
<footer><p class="p-tags">Tagged in <a href="https://medium.com/tag/blockchain" class="p-tag">Blockchain</a>, <a href="https://medium.com/tag/origin-protocol" class="p-tag">Origin Protocol</a>, <a href="https://medium.com/tag/ethereum" class="p-tag">Ethereum</a>, <a href="https://medium.com/tag/code-review" class="p-tag">Code Review</a></p><p>By <a href="https://medium.com/@suchi.blackwing" class="p-author h-card">Andre Cronje</a> on <a href="https://medium.com/p/378c628c590e"><time class="dt-published" datetime="2018-03-02T12:39:18.774Z">March 2, 2018</time></a>.</p><p><a href="https://medium.com/@suchi.blackwing/cryptocurrency-code-review-origin-protocol-378c628c590e" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on May 2, 2018.</p></footer></article>

</body></html>